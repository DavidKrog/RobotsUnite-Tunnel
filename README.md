# RobotsUnite-Tunnel
## Hardware (Aufbau der Holzbox):
1.	**Maße der verschiedenen Bauelemente**

Für den Bau der Holzkiste haben wir mit 10 Bauteile gerechnet, damit die Kiste stabil ist, allen Anforderungen entspricht und die erwünschten Funktionsweisen umgesetzt werden können.

Verwendet haben wir dafür:
   - 4x Seitenwände (50x65cm)
   - 2x für Deckel und Boden (50x50cm)
   - 1x zweiter Boden für den Elektronikabteil (47x47cm)
   - 2x Schiebetüre (37x37cm)
   - 1x Klappe für den Deckel (40x40cm)
<br>
<br>

2. **Maße der Ausschnitte**

Ausschnitte haben wir an allen Seitenteilen der Holzkiste zur Stabilisierung vorgenommen (siehe Stabilisierung der Box).
   Außerdem haben wir mittig in den Deckel ein 40x40cm großes Quadrat geschnitten um die Klapptüre für die Technikbox zu realisieren. +
   Für die Schiebetüren haben wir ein 35,5x34 cm (Höhe x Breite) großes Rechteck herausgeschnitten.
   Damit die Schiebetüren auf- und zufahren können mussten an der rechten Außenwand Einschnitte vorgenommen werden. Diese wurden passgenau zum Türaufbau gewählt. 
<img src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/24a0d200-1254-4909-b02c-f47d4d000c2b" width='400'>  |  <img src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/6008f2bd-8f18-4c45-818c-c6f3de37b496" width='400'>|<img src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/18a4c361-554c-4b4e-a319-a11c5feb765e" width='400'>
:-------------------------:|:-------------------------:|:-----:
<em>Ausschnitt Schiebetüre</em>| <em>Ausschnitt Deckel</em>|<em>Ausschnitte für den Auszug der Schiebetüren</em>

<br>
<br>

**Maßstab**


<img width="400" alt="Tür_Vorne" src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/5afd44c7-f0bf-4787-9ea2-72036619a8bc"> |  <img width="400" alt="Tür_Hinten" src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/8116c9ba-04e3-40ef-8e7e-b68c3d1212ae">|<img width="400" alt="rechte_Seite" src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/5f74e661-6883-400a-96f1-f136ed003667">
:-------------------------:|:-------------------------:|:-----:
<em>Türwand Vorne</em>| <em>Türwand Hinten</em>|<em>Rechte Seite</em>
<img width="400" alt="Boden" src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/2d49878a-8f5b-41d9-81d5-6dc7dda81689">|<img width="400" alt="Klappe_Deckel" src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/59783853-8ec6-4533-b83b-044d5e6267ea">|<img width="400" alt="Deckel" src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/13c416c3-8c38-40dc-bde8-7b3a847e8de1">
<em>Bodenplatte</em>| <em>Deckelplatte</em>|<em>Klappe</em>
<img width="400" alt="zwischenboden" src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/7e85f012-a1e9-4ab6-b0c4-081b0e2713c4">|<img width="400" alt="Tür" src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/8ced7dbb-5931-49c3-926a-dbd7934d4485">|<img width="400" alt="linke_Seite" src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/3047cf0a-ac53-4d00-8320-c12a7df887fd">
<em>Zwischenplatte</em>| <em>Tür</em>|<em>Linke Seite</em>

Bei dem Zwischenboden muss man Aussparungen für Kabel und eventuell für den Endlagentaster machen. Diese sind nicht in der Skizze eingetragen, da dies je nach Montage der Elektrik in Größe und Position variiert.
<br>
<br>

3. **Stabilisierung der Box**

Um die Holzkiste sehr stabil zu bauen haben wir uns ein simples System überlegt. Hierzu haben wir an jeder Außenkante der einzelnen Holzplatten die Hälfte der Seite um jeweils 1,5cm ausgesägt und die andere Hälfte unberührt gelassen. Somit hat sich ein recht einfaches, aber effizientes Stecksystem ergeben, welches nach der Verschraubung sich als sehr stabil und robust erwiesen hat.

<img src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/60a462f9-e731-48d1-9d22-f2a840dbfd90" width=''>  |  <img src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/b9a108d4-d59e-4d97-bdd5-96c33714786a" width=''>
:-------------------------:|:-------------------------:
<em>Ausschnitte an den Seitenwänden<em>| <em>Ausschnitte an den Seitenwänden</em>

<br>
<br>

4. **Aufteilung der Box in Arena- und Technikabteil**

Die Holzkiste wird in einen Arena- und Technikabteil aufgeteilt.
Die Arena befindet sich in den unteren zwei Dritteln der Kiste und kann über die beiden verbauten Schiebetüren betreten und genutzt werden. Die Technik im oberen Drittel der Kiste ist einfach über den klappbaren Deckel auf der Oberseite der Box erreichbar. Im inneren der Kiste haben wir einen zweiten Boden verbaut, um die beiden Abteile abzutrennen.
Um den zweiten Boden einzubauen, werden zwei Querstreben in der Kiste verschraubt. Die Position wird von der Schiebetür und den verwndeted Auszugsschienen bestimmt. Auf diesen wird der zweite Boden angebracht.
<p>
    <img src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/4bff7154-e678-4926-8ef1-eadd761ded5a" width='200'>
   <br>
    <em>Balken zur Anbringung der Schiebetüren</em>
</p>


Bis auf die verbauten Motoren für die elektrischen Schiebetüren und die Leuchttaster für das Öffnen und Schließen dieser befinden sich alle elektrischen Bauteile in dem Technikabteil. Diese Aufteilung haben wir vorgenommen, um so gut wie alle Elektrischen Bauteile vom Rest der Box abtrennen zu können, um so mögliche Elektrounfälle zu vermeiden.
<p>
    <img src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/c2e76d22-6369-4f9d-a85f-81941367d177" width='200'>
    <br>
    <em>Leuchtdrucktaster im Kisteninneren</em>
</p>

<br>
<br>

5. **Schiebetürmechanismus (3D-Druck und Modell der Zahnradschiene und Zahnrad)**

Die verbauten Schiebetüren wurden ein kleines bisschen Größer als der Ausschnitt an der Vorder- und Rückseite gewählt. Damit wollen wir gewährleisten, dass die Türen bündig am Gehäuse anliegen und seitlich nicht durch Schlitze hindurchgeschaut werden kann.  
Außerdem wurde am Boden eine Aussparung eingefräst, in dieser wir eine Führungsschiene verlegt haben. Somit verhindern wir, dass sich die Holztüren verhaken können.  
Damit sich die Türen leicht öffnen und schließen haben wir uns für den Verbau von Schubauszügen entschieden. Diese lassen sich sehr leicht und ohne großen Kraftaufwand bewegen.
Um die Türen elektrisch antreiben zu können wurde eine 37cm lange Zahnradschienen mit dem passenden Zahnrad 3D-Drucker gedruckt. Die Schienen werden mittig an der Schiebetürinnenseite, an den dafür vorgesehenen Laschen befestigt. Das Zahnrad wird passgenau an den Elektromotoren befestigt. Letztendlich wird der Motor in der Kiste so angebracht, dass sich das Zahnrad passend in der Zahnradschiene bewegt um die Schiebetüren auf- und zufahren lassen zu können. 
Damit die Schiebetüre problemlos aufgehen kann haben wir an der rechten Seitenwand passend Ausschnitte vorgenommen (siehe Maße der Ausschnitte). 
<img src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/01d1f0f4-5121-4e6d-9917-375b7487e957" width='400'>  |  <img src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/ffda5f10-788f-4f33-be25-456a556f0f63" width='400'>|<img src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/97b3b739-dd2d-4ec6-a7be-688e8fd73aed" width='400'>
:-------------------------:|:-------------------------:|:-----:
<em>Schiebetüre vorne<em>| <em>Schiebetüre hinten</em>| <em>Schiebetüre hinten ausgezogen</em>
<img src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/043348d6-c215-48bf-b703-4c4c12f68ec3" width='400'>  |  <img src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/7ee301c3-b298-4888-950b-c4dff09300a6" width='400'>|<img width="200" alt="Befestigungtür" src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/9b93c0d3-2864-4603-be76-9b5cb2883fd1">
<em>Boden der Holzkiste<em>| <em>Schiebetüren verbaut</em>| <em> Befestigung der Schiene</em>



<br>
<br>

6.	**Aufbauplan**

<p>
    <img src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/24bcc7fb-5c21-49ca-9e6b-2834d02db6ec" width='200'>
    <br>
    <em>Aubau Holzkiste komplett</em>
</p>

<br>
<br>

7. **Verbesserungen**
 
Während der Konstruktion haben wir gemerkt, das nicht alles machbar ist, wie wir es geplant hatten. Dadurch mussten wir manchmal bisschen improvisieren. Dies ist einer der Gründe warum die rechte Seite der Box die besondere Aussparung für die Schiebetür besitzt.
Damit die Konstruktion beim Nachbau besser aussieht und man aus den Erfahrungen profitieren kann, haben wir für manche Bretter neuere und verbesserte Skizzen erstellt.


<img width="2000" alt="Boden_Verändert" src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/35fa0bf8-6ca8-4932-a56c-3c5d3e62b562">| Bodenplatte: <br>Es gäbe ein Stückchen welches wir einzeln befestigen und kleben mussten, da ansonsten die Wahrscheinlichkeit zu hoch war, das es mit der Zeit abbricht. Deswegen wurden die Aussparungen  der Bodenplatte angepasst. Dies sollte das aussägen der einzelnen Teile und das spätere zusammenstecken erleichtern.|
| ------------------ | ------------------ |
<img width="400" alt="Tür verändert" src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/4e51720e-f7d7-407d-b946-bddcf46f4d66">| Tür: <br>Durch die Montage der Auszugsschiene, welche anders wurde als geplant, muss die Tür höher sein um im Innenraum die Höhe für die Roboter gewährleisten können. Außerdem kann man durch die größere Breite der Tür es so einstellen, dass bei geschlossener Tür die rechte Seite bündig ist und keine Löcher vorhanden sind, wodurch auch der Innenraum dunkler wird. Die Auszugsschiene wird oben entlang der langen Seite montiert.  |
<img width="400" alt="rechte_Seite_verändert" src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/6d551499-1e20-4fc4-a0e7-80c703cdd8a4">| Rechte Seite: <br> Durch die veränderten Tür maße kann man die Rechte Seite anpassen. Dadurch wird das aussägen leichter und das Ergebnis wird schöner. |

<br>
<br>

## Hardware (Aufbau der Elektrik):
1.	**Verwendete Bauteile und deren Funktion**

**Siemens LOGO 8:**

Diese verwendet, um alle nötigen Programmierungen für das Projekt vorzunehmen. Realisiert werden damit der Schiebetürmechanismus, die Leuchttaster, der Single- und Multimode und die ausgedachten Rätsel. Die Programmierungen wurden mit Siemens LOGO!Soft Comfort vorgenommen.
<br>
<br>

**Netzteil (24V):**

Das 24V-Netzteil welche einen maximalen Ausgangsstrom von 4,5A hat wurde ausgewählt, da es alle verbauten Bauteile mit dem nötigen Strom versorgen kann. Ein weiterer Grund für ein 24V-Netzteil ist, dass es mit den allermeisten Bauteilen kompatibel ist. Außerdem kann bei der Gleichspannung unter 60V auf einen Schutz gegen direktes Berühren verzichtet werden. 
<br>
<br>

**Sicherungen:**

Wir nutzen Schmelzsicherungen, weil diese klein und kompakt sind. Außerdem kann man diese flexibel anpassen und falls nötig nochmals zu einem späteren Zeitpunkt den abzusichernden Strom einstellen. Insgesamt werden in dem Projekt fünf Sicherungen verbaut. Jeweils eine Sicherung für die Spannungsversorgung der LOGO, für die Eingänge, welche in die Logo führen, die ersten vier Relais Ausgänge der LOGO, für die Motorsteuerung und eine Sicherung für die LEDs der Leuchtdrucktaster. 
<br>
<br>

**Relais:**

In unserer Schaltung verwenden wir Relais, um die Motoren anzusteuern. Pro Drehrichtung des Motors werden 3 Relais verwendet. Ein Relais dient als Sicherung, sodass nicht durch falsches Bedienen der Motor gleichzeitig in den Rechts- und Linkslauf gelangen kann, wodurch ein Kurzschluss entstehen würde. Dies funktioniert in dem man das Relais als Öffner verwendet und in Reihe zum Spulenkontakt des zweikanaligen Relais verschaltet. Das Zweite Relais ist in Reihe zum ersten Relay und wird durch den Endlagentaster gesteuert. Dadurch kann man sicher gehen, dass der Motor aufhört, wenn die Endlage erreicht wurde.
Das dritte Relais ist 2-kanalig, wodurch es uns möglich ist, einfach und sicher zwischen den beiden Leitungen des Motors zu wechseln, um ein Richtungswechsel zu ermöglichen.
<br>
<br>

**Elektromotor:**

Für jede Schiebetüre wurde ein 12V Getriebemotor verbaut. Die Geschwindigkeit des Motors kann über die Spannungswandler und das Verwenden verschiedener Zahnradgrößen passend eingestellt werden. Die Elektromotoren werden in dem Arenaabteil verbaut, die dafür verwendeten Spannungswandler im Technikabteil. 
<br>
<br>

**Endlagentaster:**

An jeder Schiebetüre werden jeweils zwei Endlagentaster angebracht. Diese sollen einerseits den Öffnungs- und andererseits den Schließvorgang stoppen. Sobald die Schiebetüre den Endlagentaster betätigt stoppt der Motor und die Türe gerät in Stillstand. Somit soll vermieden werden, dass die Schiebetüre zu weit auffährt und aus der Führung springt, oder zu weit nach innen fährt und der Motor durch zu spätes Abschalten zerstört wird. 
<br>
<br>

**Spannungswandler:**

Die Spannungswandler werden dafür verwendet, um die 24V vom Netzteil auf die nur teilweise maximal benötigten 12V für die Leuchttaster und Elektromotoren zu wandeln. Auf den Spannungswandlern befindet sich eine Digitale Anzeige, mit dieser man sehr einfach die Passenden Werte einstellen kann. 
Die Spannungswandler werden in einer selbstentworfenen 3D-Druck Box im Technikabteil der Holzkiste verbaut. 
<br>
<br>

**Leuchtdrucktaster:**

Insgesamt wurden vier Leuchttaster verbaut, um die Schiebetüren steuern zu können. Außerhalb der Kiste wurden jeweils auf der Vorder- und Rückseite ein Taster verbaut und im inneren der Kiste genauso. Je nach Auswahl des Rätsels müssen die Leuchttaster verschieden betätigt werden, um ins Innere und dann wieder aus der Kiste herauszukommen. 
Die Leuchtaster sind dauerhaft im Leuchtbetrieb, wenn sich die Schiebtüren bewegen, dann blinken die Taster mit 2 Herz. 
<br>
<br>

2.	**Verkabelungen und Montage der Bauteile in der Technikbox (Aufbauplan)**

In der Technikbox wird die Siemens LOGO 8, das passende Erweiterungsmodul, die Relais und die Sicherungen auf einer 35mm breiten Hutschiene verbaut. 

Die Spannungswandler werden in einer 3D gedruckten Box fest verbaut. Die zwei Spannungswandler, welche für die beiden Motoren zuständig sind wurden auf 7,9V eingestellt. Der Spannungswandler für die LED-Beleuchteten Drucktaster wurde auf 10V eingestellt. 

Die sechs verbauten Klemmbausteine wurden auch auf einer Hutschiene angebracht. Die Klemmbausteine sind für die Masse der LOGO und den einzelnen Relais, den Masse für die Leuchtdrucktaster, die Spannungsversorgung der Leuchtdrucktaster, Spannungsversorgung von der LOGO zu den Relais, Ausgang aller Taster, Endlagentaster und Schaltern und für den Eingang über das Netzteil und weitergehende Leitungen um das Gesamt System zu versorgen.

Die Taster um die verschiedenen Modi und Quizes auswählen zu können wurden auch in einem 3D-Modell verbaut und anschließend in dem Technikabteil der Holzkiste verbaut und verdrahtet. 
<p>
    <img src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/7ed0a7e0-c780-4cb3-98ec-dbe8b0d12a34" width='600'>
</p>
<br>
<br>

3.	**Verkabelungen und Montage der Bauteile im Kisteninneren (Aufbauplan)**
    <img src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/cedf1033-1329-4ba0-adef-044b981e362a" width='600'>


5.	**Netzplan (Verkabelungsplan)**

<p>
    <img src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/2da91e2b-6a3a-4f5f-aed7-77a35e39c9ef" width='600'>
</p>
<br>
<br>

## Software (Programmierungen):
1.	**Verwendung der Siemens LOGO 8:**

<p>
    <img src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/742266b3-322e-44cc-a67b-831e52a10a6e" width='400'>
</p>
Zur Programmierung der Siemens Logo 8 verwenden wir die dazu passende Software LOGO!Soft Comfort. Mit dieser kann man ohne großartige Programmiervorkenntnisse ein Programm schreiben, welches von der Logo ausgeführt werden soll. Das Ganze wird mittels der Grafischen Benutzeroberfläche realisiert. Das Programm wird mit Logikgattern wie UND, ODER, NOR, usw. geschrieben. Man verbindet die einzelnen Gatter mit dem Pfad, um die Logik zu erstellen. Für eine bessere Übersichtlichkeit kann man die Linien auftrennen. Dabei wird am Anfang und Ende einer Verbindung ein grüner Pfeil eingefügt und die vielen unübersichtlichen Verbindungslinien entfernt. Um die Zugehörigkeiten der Pfeile nachvollziehen zu können, werden die Pfeile immer passend nach Ihrem Gegenstück benannt (Siehe Abbildung). 
So kann der Code in einzelne Netzwerke aufgeteilt werden ohne dass es zu unübersichtlichen Verbindungsknäulen kommt. Um die Lesbarkeit des Programmcodes stark zu erhöhen, haben wir das Konzept durchgehend angewendet.
<br>
<br>

2.	**Inputs der Siemens LOGO 8:**

<p>
    <img src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/df386204-3d27-46d8-a609-4dca9dbaeab2" width='400'>
</p>
Die hier für das Projekt verwendete Siemens Logo 8 hat standartmäßig 8 Inputs zur Verfügung. 
Da wir für unser Realisiertes Projekt mehr Inputs benötigen, verwenden wir noch zusätzlich ein Erweiterungsmodul. 
In der nebenstehenden Abbildung sieht man in Gelb die von uns festgelegten und verwendeten  Inputs, welche aufsteigend nummeriert sind. 
Die Inputnummerierung stimmt mit der Nummer auf der Logo überein. Außerdem wurden die Inputs noch beschriftet, damit beim Programmieren leichter nachvollzogen werden kann, wofür der Input verwendet wird. Die Grünen Pfeile stehen für die weiteren Verwendungsorte im Programm.
<br>
<br>

3.	**Outputs der Siemens LOGO 8:**

<p>
    <img src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/025ea785-1401-4d2d-ac34-14c14cfbfe02" width='400'>
   <img src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/bed653d5-36dc-4362-b44c-c861abc5d1b4" width='400'>
</p>
Um die Schiebetüren steuern zu können, werden vier Outputs an der Siemens LOGO 8 benötigt. Für jeden Output ist die Steuerung sehr ähnlich aufgebaut. Es ändern sich hauptsächlich die Signale, welche verwendet werden. Zu Beginn wurden zwei Oder-Gatter verwendet, da in LOGO!Soft die Gatter nur 4 Eingänge zur Verfügung stellen. Da wir zur vollständigen Realisierung mehr als vier Eingänge benötigen, verwenden wir zwei ODER-Gatter in Reihe. Die Eingänge, welche in die Oder-Gatter gehen, kommen jeweils von vorher Programmierten Code Teilen, wo entschieden wird, dass die Tür sich bewegen soll. Weiter geht das Signal in ein RS-Glied, welches das Signal so lange hält, bis ihm gesagt wird, das es aufhören soll. Zum Stoppen wird das Signal von den verbauten Endlagentaster verwendet, womit der Zustand der Tür bestimmt werden kann. Der Ausgang des RS-Glied geht an den Output der LOGO, wo die Motorsteuerung mit Hilfe von Relais gesteuert wird. 
Mehr dazu kann im vorliegenden Verdrahtungsplan eingesehen werden. 
<br>
<br>

4.	**Programmierung des Betriebsbeginns:**

<p>
    <img src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/1bea59ae-6cb6-47a0-a015-f57a2b6bd5dc" width='400'>
</p>
Diese 2 Programmausschnitte sind dafür da, die Schiebetüren der Holzkiste in die nötige Startposition zu bringen. 
Wenn die LOGO Strom bekommt und der Programmablauf startet, wird der Blaue Merker aktiviert. Dieser lässt beide Türen schließen, um mögliche Fehlpositionen, welche beim Transport oder dem Aufbau entstanden sein könnten zu beheben (also die Tür ist weder vollständig geschlossen noch geöffnet). 
In der linken Abbildung wird noch auf die Eingänge der Rätsel Auswahl geachtet. Zu Beginn sind bei jedem Rätsel beide Schiebetüren geschlossen weshalb, auf den Einschaltmoment der Inputs für die Rätsel Auswahl geachtet wird, um die Türen zu schließen. 
Die rechte Abbildung zeigt den Programmausschnitt, welcher die Türen der Kiste in die Startposition für den Single- und Team-Modus bringt. Da zu Beginn der beiden Modis die Türen zu keinem Zeitpunkt gelichzeitig geöffnet oder geschlossen sind, wird bei der Auswahl eines Rätsels die geöffnete Türe geschlossen. 
<br>
<br>

5.	**Programmierungen zu Single-Team-Modus**

<p>
    <img src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/117b7968-aab3-4b29-b6d2-55bc3907e2f9" width='400'>
</p>
Verwendet man das Projekt im einfachen Single- und Team-Modus, ohne ein Rätsel auszuwählen dann wird das Parkour Element als einfacher Durchgang genutzt. 

Der hier abgebildete Code ist oben und unten symmetrisch aufgebaut.

<img src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/6f97b600-ce70-4c96-8dd5-6828b6d0219b" width='400'>| Hier wird geschaut, in welcher Stellung sich die Schiebetüren befinden.  |
| ------------------ | ------------------ |
<img src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/b80441c6-450b-4067-b7a8-0c69822d4d67" width='400'>| Für den Single-Modus wird nur geschaut, ob einer der Taster an der Außenseite der Holzkiste  gedrückt wurde.  |
<img src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/f384f822-8872-4416-846b-5bcb0ce3c86b" width='400'>| Für den Team-Modus wird geschaut, ob 2 Taster gleichzeitig gedrückt werden.  |

Außerdem gibt es eine Abfrage, ob der Schalter für den dafür nötigen Teammodus gedrückt wurde. 
Die beiden Programmteile oben kommen in ein Oder-Gatter. Dieses Signal geht in ein Und-Gatter, welches den aktuellen Zustand der Türen aufnimmt, um dann die Türen anzusteuern 

<img src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/146e9fd2-9868-4d8e-be94-395d98d30689" width='400'>| Hier wird darauf geachtet, dass kein Rätsel aktiv ist.In den unteren Eingang des UND-Gatters kommen die Signale von dem Kasten oben drüber. Der Ausgang steuert die Türen|
| ------------------ | ------------------ |
<br>
<br>

6.	**Programmierungen zu den Rätseln**

<p>
    <img src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/5e61c569-1cf9-48f0-a5ef-8a20e061c6ec" width='400'>
</p>
Für das Projekt haben wir uns drei verschiedene Rätselarten ausgesucht. Alle Rätsel haben den gleichen Anfang (siehe Abbildung). Dieser Programmteil ist dafür da den richtigen Programmabschnitt zu auszuwählen. Außerdem kann so verhindert werden, dass zwei Rätsel gleichzeitig ausgewählt werden können. 
<br>
<br>

Rätsel 1:

<p>
    <img src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/92c8c171-2570-432b-bbb3-c469b10e8566" width='400'>
</p>
In der folgenden Abbildung sieht man den Programmcode für das ersten auswählbare Rätsel. Das hier verwendete UND-Gatter ist dafür verantwortlich das beide Türen zu sind und die Kiste in Ihrer Grundstellung steht. Dieses Signal geht in ein weiteres UND-Gatter, in diesem drauf geachtet wird, dass immer nur der richtige Schalter gedrückt wird. Daraufhin wird das RS-Glied aktiviert. Dieses wird sofort resettet, wenn der gedrückte Taster losgelassen wird. Danach wird geschaut, ob der nächste Taster zusätzlich gedrückt wird und der Taster mindestes eine Sekunde gedrückt wird damit sich alle Türen öffnen.
<br>
<br>

Rätsel 2:

<p>
    <img src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/6c504037-3820-47d4-8d30-d6118bfbb9f7" width='400'>
</p>
Im zweiten Rätsel wird gezählt, wie oft die beiden äußeren Taster gedrückt werden. Wenn beide Taster mindesten 2-mal gedrückt wurden, geben sie das Signal weiter zum UND-Gatter, welches dann die beiden Schiebetüren öffnet. Danach werden die Zähler wieder resettet, damit das Rätsel für den nächsten Durchgang bereit ist.
<br>
<br>

Rätsel 3:

<p>
    <img src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/073e7267-f95b-4704-9551-fe4c264fea1f" width='400'>
</p>
Im dritten Rätsel wird mittels des oben gezeigten Programmcode geschaut, ob die Taster in der richtigen Reihenfolge gedrückt wurden. Realisiert wird der ganze Vorgang durch in Reihe geschaltete RS-Glieder. Erforderlich sind vier Tastendrücke, weshalb vier RS-Glieder benötigt werden. Bei einer Falsch Eingabe werden alle RS-Glieder resettet und die Eingabekombination muss von neuem gestartet werden. Bei richtiger Eingabe öffnen sich die Schiebetüren und das Rätsel resettet, damit es für den nächsten Durchgang bereit ist.
<br>
<br>

7.	**Schließen der Schiebetüren:**

<p>
    <img src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/82246c2e-a87b-4fbc-aa2f-a39bcde2931b" width='400'>
</p>
Damit im Rätsel Modus die Türen wieder von außen schließen kann ist folgender Programmausschnitt verantwortlich. Wenn irgendein Rätsel ausgewählt wurde und irgendein Taster bei offenen Türen gedrückt wird, schließen sich alle Schiebetüren. Somit befindet das ganze Projekt wieder in Ausgangsstellung. Dies kann verwendet werden, um das Rätsel für den nächsten Durchgang vorzubereiten, oder um die Türen für den Transport zu schließen.
<br>
<br>

8.	**Schiebtüre von Kisteninneren steuern:**

<p>
    <img src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/36a11bc5-d857-4f3d-8312-f546eea7a623" width='400'>
</p>
Dieser Programmteil wird in jedem Rätsel verwendet. So wird realisiert, dass die Türen von innen immer geöffnet und geschlossen werden können. Das obere UND-Gatter öffnet die Türen, wenn sie zu sind und das untere UND-Gatte schließt sie, wenn sie offen sind.
<br>
<br>

9.	**Lampensteuerung**

Sobald die Box eingeschaltet wird und die Bauteile Strom bekommen, leuchten die Lampen dauerhaft. Situationsbedingt blinken die Leuchtdrucktaster, um den Nutzern Rückmeldung zu bestimmten Ausführungen zu geben. 
Die Lampen sollen mit 1Hz blinken, wenn sich die Schiebtüren öffnen oder schließen. 
Wenn das Rätsel 3 in der falschen Reihenfolge ausgeführt wird und somit ein Fehler entsteht, dann blinken die Lampen für 2 Sekunden schnell mit 5Hz.
<img src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/522c5993-b860-4a16-840c-0385d1ade4fe" width='400'>| Wenn sich die Tür bewegt, schauen wir auf das Signal mit welchen die Tür gesteuert wird. Solange dafür ein Signal da ist, macht der Impulsgeber daraus ein Blinken mit 1Hz. |
| ------------------ | ------------------ |
<img src="https://github.com/DavidKrog/RobotsUnite-Tunnel/assets/132545762/b211c48c-3748-47e0-aa71-aea405812891" width='400'>|Falls eine falsche Eingabe im dritten Rätsel getätigt wurde, wird das Resett Signal auch an diesen Programmausschnitt weitergeleitet. Dieser aktiviert das RS-Glied, wodurch ein Impulsgeber mit 5Hz aktiviert wird. Dieser funktioniert solange das RS-Glied aktiv ist. Abgeschaltet wird das RS-Glied wenn die Einschaltverzögerung, welche auf 2 Sekunden eingestellt ist, aktiviert wird.|



